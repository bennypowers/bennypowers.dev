:host {
  display: block;
  position: relative;
}

:host([separator]) {
  padding: 3px 0;
}

:host([separator]) div {
  height: 1px;
  background: var(--cl-menu-separator, #d3d7cf);
  margin: 0 4px;
}

#item {
  display: flex;
  align-items: center;
  padding: var(--cl-menu-item-padding, 3px 6px 3px 4px);
  color: var(--cl-menu-item-text, #2e3436);
  font-family: var(--cl-font-family, "DejaVu Sans", sans-serif);
  font-size: var(--_menu-font-size, var(--cl-font-size, 13px));
  cursor: default;
  white-space: nowrap;
  text-decoration: none;
  position: relative;
  gap: var(--_menu-icon-gap, 6px);
  min-height: var(--_menu-item-height, 28px);
  box-sizing: border-box;
}

#item:hover,
#item:focus-visible,
:host([active]) #item {
  background: var(--cl-menu-item-hover-bg, linear-gradient(to bottom, #a4c2e8, #9cb9dd, #98b4d8, #90aace));
  color: var(--cl-menu-item-hover-text, #ffffff);
}

#item:focus-visible {
  outline: none;
}

:host([disabled]) #item {
  color: var(--cl-menu-item-disabled, #888a85);
  cursor: default;
}

:host([disabled]) #item:hover {
  background: none;
  color: var(--cl-menu-item-disabled, #888a85);
}

#icon {
  width: var(--_menu-icon-size, 24px);
  height: var(--_menu-icon-size, 24px);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

:host(:not([icon])) #icon {
  display: none;
}

#icon img {
  width: var(--_menu-icon-size, 24px);
  height: var(--_menu-icon-size, 24px);
}

#label {
  flex: 1;
}

#submenu-arrow {
  margin-inline-start: auto;
  padding-inline-start: 10px;
  width: 0;
  height: 0;
  border-block: 4px solid transparent;
  border-inline-start: 5px solid currentColor;
  border-inline-end: none;
}

#submenu {
  display: none;
  position: fixed;
  z-index: 1000;
  max-width: 100vw;
}

:host([active]) #submenu {
  display: block;
}

#submenu ::slotted(gtk2-menu) {
  display: block;
  position: static;
}

@media (max-width: 767px) {
  #item {
    white-space: normal;
  }

  /* Submenus expand inline below their parent item */
  #submenu {
    position: static;
    max-width: none;
  }

  :host([active]) #submenu {
    display: block;
  }

  /* Indent submenu content */
  #submenu ::slotted(gtk2-menu) {
    padding-inline-start: 12px;
  }

  /* Flip arrow down when expanded */
  :host([active]) #submenu-arrow {
    border-inline-start: 4px solid transparent;
    border-inline-end: 4px solid transparent;
    border-block-start: 5px solid currentColor;
    border-block-end: none;
  }
}

a#item {
  color: inherit;
}

a#item:hover {
  color: var(--cl-menu-item-hover-text, #ffffff);
}
