:host {
  display: flex;
  flex-direction: column;
  height: 100vh;
  height: 100dvh;
  background: var(--cl-desktop-bg, #305573);
  font-family: var(--cl-font-family, "DejaVu Sans", sans-serif);
  font-size: var(--cl-font-size, 13px);
  color: var(--cl-button-text, #2e3436);
  overflow: hidden;
}

#workspace {
  display: flex;
  flex-direction: column;
  flex: 1;
  position: relative;
  min-height: 0;
}

#icons {
  display: flex;
  flex-flow: column wrap;
  align-content: flex-start;
  gap: 8px 4px;
  padding: 16px;
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;

  & ::slotted(*) {
    pointer-events: auto;
  }
}

#windows {
  position: relative;
  z-index: 1;
  flex: 1;
  min-height: 0;
  pointer-events: none;

  ::slotted(gtk2-window) {
    pointer-events: auto;
    position: absolute;
    width: min(90%, 840px);
    height: min(80%, 560px);
    max-height: calc(100dvh - 120px);
  }

  ::slotted(gtk2-window[dialog]) {
    width: min(90%, 825px);
    height: min(90%, 730px);
  }

  ::slotted(gtk2-window[window-url="/latest/"]) {
    width: min(90%, 475px);
    height: min(80%, 410px);
  }

  ::slotted(gtk2-window[data-app="pidgin"]) {
    inset-inline-end: 16px;
    inset-inline-start: auto;
    inset-block-start: 40px;
    margin: 0;
    width: min(90%, 400px);
    height: min(80%, 500px);
  }

  @media (width <= 767px) {
    display: flex;
    flex-direction: column
  }
}

@media (width <= 767px) {
  #windows ::slotted(gtk2-window) {
    position: static;
    width: 100%;
    max-height: none;
    flex: 1;
  }

  #windows ::slotted(gtk2-window:not([focused])) {
    display: none;
  }
}
